{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ConnectionPoolClearedEvent = exports.ConnectionCheckedInEvent = exports.ConnectionCheckedOutEvent = exports.ConnectionCheckOutFailedEvent = exports.ConnectionCheckOutStartedEvent = exports.ConnectionClosedEvent = exports.ConnectionReadyEvent = exports.ConnectionCreatedEvent = exports.ConnectionPoolClosedEvent = exports.ConnectionPoolCreatedEvent = exports.ConnectionPoolMonitoringEvent = void 0;\n/**\n * The base export class for all monitoring events published from the connection pool\n * @public\n * @category Event\n */\n\nclass ConnectionPoolMonitoringEvent {\n  /** @internal */\n  constructor(pool) {\n    this.time = new Date();\n    this.address = pool.address;\n  }\n\n}\n\nexports.ConnectionPoolMonitoringEvent = ConnectionPoolMonitoringEvent;\n/**\n * An event published when a connection pool is created\n * @public\n * @category Event\n */\n\nclass ConnectionPoolCreatedEvent extends ConnectionPoolMonitoringEvent {\n  /** @internal */\n  constructor(pool) {\n    super(pool);\n    this.options = pool.options;\n  }\n\n}\n\nexports.ConnectionPoolCreatedEvent = ConnectionPoolCreatedEvent;\n/**\n * An event published when a connection pool is closed\n * @public\n * @category Event\n */\n\nclass ConnectionPoolClosedEvent extends ConnectionPoolMonitoringEvent {\n  /** @internal */\n  constructor(pool) {\n    super(pool);\n  }\n\n}\n\nexports.ConnectionPoolClosedEvent = ConnectionPoolClosedEvent;\n/**\n * An event published when a connection pool creates a new connection\n * @public\n * @category Event\n */\n\nclass ConnectionCreatedEvent extends ConnectionPoolMonitoringEvent {\n  /** @internal */\n  constructor(pool, connection) {\n    super(pool);\n    this.connectionId = connection.id;\n  }\n\n}\n\nexports.ConnectionCreatedEvent = ConnectionCreatedEvent;\n/**\n * An event published when a connection is ready for use\n * @public\n * @category Event\n */\n\nclass ConnectionReadyEvent extends ConnectionPoolMonitoringEvent {\n  /** @internal */\n  constructor(pool, connection) {\n    super(pool);\n    this.connectionId = connection.id;\n  }\n\n}\n\nexports.ConnectionReadyEvent = ConnectionReadyEvent;\n/**\n * An event published when a connection is closed\n * @public\n * @category Event\n */\n\nclass ConnectionClosedEvent extends ConnectionPoolMonitoringEvent {\n  /** @internal */\n  constructor(pool, connection, reason) {\n    super(pool);\n    this.connectionId = connection.id;\n    this.reason = reason || 'unknown';\n    this.serviceId = connection.serviceId;\n  }\n\n}\n\nexports.ConnectionClosedEvent = ConnectionClosedEvent;\n/**\n * An event published when a request to check a connection out begins\n * @public\n * @category Event\n */\n\nclass ConnectionCheckOutStartedEvent extends ConnectionPoolMonitoringEvent {\n  /** @internal */\n  constructor(pool) {\n    super(pool);\n  }\n\n}\n\nexports.ConnectionCheckOutStartedEvent = ConnectionCheckOutStartedEvent;\n/**\n * An event published when a request to check a connection out fails\n * @public\n * @category Event\n */\n\nclass ConnectionCheckOutFailedEvent extends ConnectionPoolMonitoringEvent {\n  /** @internal */\n  constructor(pool, reason) {\n    super(pool);\n    this.reason = reason;\n  }\n\n}\n\nexports.ConnectionCheckOutFailedEvent = ConnectionCheckOutFailedEvent;\n/**\n * An event published when a connection is checked out of the connection pool\n * @public\n * @category Event\n */\n\nclass ConnectionCheckedOutEvent extends ConnectionPoolMonitoringEvent {\n  /** @internal */\n  constructor(pool, connection) {\n    super(pool);\n    this.connectionId = connection.id;\n  }\n\n}\n\nexports.ConnectionCheckedOutEvent = ConnectionCheckedOutEvent;\n/**\n * An event published when a connection is checked into the connection pool\n * @public\n * @category Event\n */\n\nclass ConnectionCheckedInEvent extends ConnectionPoolMonitoringEvent {\n  /** @internal */\n  constructor(pool, connection) {\n    super(pool);\n    this.connectionId = connection.id;\n  }\n\n}\n\nexports.ConnectionCheckedInEvent = ConnectionCheckedInEvent;\n/**\n * An event published when a connection pool is cleared\n * @public\n * @category Event\n */\n\nclass ConnectionPoolClearedEvent extends ConnectionPoolMonitoringEvent {\n  /** @internal */\n  constructor(pool, serviceId) {\n    super(pool);\n    this.serviceId = serviceId;\n  }\n\n}\n\nexports.ConnectionPoolClearedEvent = ConnectionPoolClearedEvent;","map":{"version":3,"sources":["../../src/cmap/connection_pool_events.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectionPoolClearedEvent = exports.ConnectionCheckedInEvent = exports.ConnectionCheckedOutEvent = exports.ConnectionCheckOutFailedEvent = exports.ConnectionCheckOutStartedEvent = exports.ConnectionClosedEvent = exports.ConnectionReadyEvent = exports.ConnectionCreatedEvent = exports.ConnectionPoolClosedEvent = exports.ConnectionPoolCreatedEvent = exports.ConnectionPoolMonitoringEvent = void 0;\n/**\n * The base export class for all monitoring events published from the connection pool\n * @public\n * @category Event\n */\nclass ConnectionPoolMonitoringEvent {\n    /** @internal */\n    constructor(pool) {\n        this.time = new Date();\n        this.address = pool.address;\n    }\n}\nexports.ConnectionPoolMonitoringEvent = ConnectionPoolMonitoringEvent;\n/**\n * An event published when a connection pool is created\n * @public\n * @category Event\n */\nclass ConnectionPoolCreatedEvent extends ConnectionPoolMonitoringEvent {\n    /** @internal */\n    constructor(pool) {\n        super(pool);\n        this.options = pool.options;\n    }\n}\nexports.ConnectionPoolCreatedEvent = ConnectionPoolCreatedEvent;\n/**\n * An event published when a connection pool is closed\n * @public\n * @category Event\n */\nclass ConnectionPoolClosedEvent extends ConnectionPoolMonitoringEvent {\n    /** @internal */\n    constructor(pool) {\n        super(pool);\n    }\n}\nexports.ConnectionPoolClosedEvent = ConnectionPoolClosedEvent;\n/**\n * An event published when a connection pool creates a new connection\n * @public\n * @category Event\n */\nclass ConnectionCreatedEvent extends ConnectionPoolMonitoringEvent {\n    /** @internal */\n    constructor(pool, connection) {\n        super(pool);\n        this.connectionId = connection.id;\n    }\n}\nexports.ConnectionCreatedEvent = ConnectionCreatedEvent;\n/**\n * An event published when a connection is ready for use\n * @public\n * @category Event\n */\nclass ConnectionReadyEvent extends ConnectionPoolMonitoringEvent {\n    /** @internal */\n    constructor(pool, connection) {\n        super(pool);\n        this.connectionId = connection.id;\n    }\n}\nexports.ConnectionReadyEvent = ConnectionReadyEvent;\n/**\n * An event published when a connection is closed\n * @public\n * @category Event\n */\nclass ConnectionClosedEvent extends ConnectionPoolMonitoringEvent {\n    /** @internal */\n    constructor(pool, connection, reason) {\n        super(pool);\n        this.connectionId = connection.id;\n        this.reason = reason || 'unknown';\n        this.serviceId = connection.serviceId;\n    }\n}\nexports.ConnectionClosedEvent = ConnectionClosedEvent;\n/**\n * An event published when a request to check a connection out begins\n * @public\n * @category Event\n */\nclass ConnectionCheckOutStartedEvent extends ConnectionPoolMonitoringEvent {\n    /** @internal */\n    constructor(pool) {\n        super(pool);\n    }\n}\nexports.ConnectionCheckOutStartedEvent = ConnectionCheckOutStartedEvent;\n/**\n * An event published when a request to check a connection out fails\n * @public\n * @category Event\n */\nclass ConnectionCheckOutFailedEvent extends ConnectionPoolMonitoringEvent {\n    /** @internal */\n    constructor(pool, reason) {\n        super(pool);\n        this.reason = reason;\n    }\n}\nexports.ConnectionCheckOutFailedEvent = ConnectionCheckOutFailedEvent;\n/**\n * An event published when a connection is checked out of the connection pool\n * @public\n * @category Event\n */\nclass ConnectionCheckedOutEvent extends ConnectionPoolMonitoringEvent {\n    /** @internal */\n    constructor(pool, connection) {\n        super(pool);\n        this.connectionId = connection.id;\n    }\n}\nexports.ConnectionCheckedOutEvent = ConnectionCheckedOutEvent;\n/**\n * An event published when a connection is checked into the connection pool\n * @public\n * @category Event\n */\nclass ConnectionCheckedInEvent extends ConnectionPoolMonitoringEvent {\n    /** @internal */\n    constructor(pool, connection) {\n        super(pool);\n        this.connectionId = connection.id;\n    }\n}\nexports.ConnectionCheckedInEvent = ConnectionCheckedInEvent;\n/**\n * An event published when a connection pool is cleared\n * @public\n * @category Event\n */\nclass ConnectionPoolClearedEvent extends ConnectionPoolMonitoringEvent {\n    /** @internal */\n    constructor(pool, serviceId) {\n        super(pool);\n        this.serviceId = serviceId;\n    }\n}\nexports.ConnectionPoolClearedEvent = ConnectionPoolClearedEvent;\n//# sourceMappingURL=connection_pool_events.js.map"]},"metadata":{},"sourceType":"script"}