{"ast":null,"code":"\"use strict\";\n\nconst {\n  isASCIIHex\n} = require(\"./infra\");\n\nconst {\n  utf8Encode\n} = require(\"./encoding\"); // https://url.spec.whatwg.org/#percent-encode\n\n\nfunction percentEncode(c) {\n  let hex = c.toString(16).toUpperCase();\n\n  if (hex.length === 1) {\n    hex = `0${hex}`;\n  }\n\n  return `%${hex}`;\n} // https://url.spec.whatwg.org/#percent-decode\n\n\nfunction percentDecodeBytes(input) {\n  const output = new Uint8Array(input.byteLength);\n  let outputIndex = 0;\n\n  for (let i = 0; i < input.byteLength; ++i) {\n    const byte = input[i];\n\n    if (byte !== 0x25) {\n      output[outputIndex++] = byte;\n    } else if (byte === 0x25 && (!isASCIIHex(input[i + 1]) || !isASCIIHex(input[i + 2]))) {\n      output[outputIndex++] = byte;\n    } else {\n      const bytePoint = parseInt(String.fromCodePoint(input[i + 1], input[i + 2]), 16);\n      output[outputIndex++] = bytePoint;\n      i += 2;\n    }\n  }\n\n  return output.slice(0, outputIndex);\n} // https://url.spec.whatwg.org/#string-percent-decode\n\n\nfunction percentDecodeString(input) {\n  const bytes = utf8Encode(input);\n  return percentDecodeBytes(bytes);\n} // https://url.spec.whatwg.org/#c0-control-percent-encode-set\n\n\nfunction isC0ControlPercentEncode(c) {\n  return c <= 0x1F || c > 0x7E;\n} // https://url.spec.whatwg.org/#fragment-percent-encode-set\n\n\nconst extraFragmentPercentEncodeSet = new Set([32, 34, 60, 62, 96]);\n\nfunction isFragmentPercentEncode(c) {\n  return isC0ControlPercentEncode(c) || extraFragmentPercentEncodeSet.has(c);\n} // https://url.spec.whatwg.org/#query-percent-encode-set\n\n\nconst extraQueryPercentEncodeSet = new Set([32, 34, 35, 60, 62]);\n\nfunction isQueryPercentEncode(c) {\n  return isC0ControlPercentEncode(c) || extraQueryPercentEncodeSet.has(c);\n} // https://url.spec.whatwg.org/#special-query-percent-encode-set\n\n\nfunction isSpecialQueryPercentEncode(c) {\n  return isQueryPercentEncode(c) || c === 39;\n} // https://url.spec.whatwg.org/#path-percent-encode-set\n\n\nconst extraPathPercentEncodeSet = new Set([63, 96, 123, 125]);\n\nfunction isPathPercentEncode(c) {\n  return isQueryPercentEncode(c) || extraPathPercentEncodeSet.has(c);\n} // https://url.spec.whatwg.org/#userinfo-percent-encode-set\n\n\nconst extraUserinfoPercentEncodeSet = new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\n\nfunction isUserinfoPercentEncode(c) {\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\n} // https://url.spec.whatwg.org/#component-percent-encode-set\n\n\nconst extraComponentPercentEncodeSet = new Set([36, 37, 38, 43, 44]);\n\nfunction isComponentPercentEncode(c) {\n  return isUserinfoPercentEncode(c) || extraComponentPercentEncodeSet.has(c);\n} // https://url.spec.whatwg.org/#application-x-www-form-urlencoded-percent-encode-set\n\n\nconst extraURLEncodedPercentEncodeSet = new Set([33, 39, 40, 41, 126]);\n\nfunction isURLEncodedPercentEncode(c) {\n  return isComponentPercentEncode(c) || extraURLEncodedPercentEncodeSet.has(c);\n} // https://url.spec.whatwg.org/#code-point-percent-encode-after-encoding\n// https://url.spec.whatwg.org/#utf-8-percent-encode\n// Assuming encoding is always utf-8 allows us to trim one of the logic branches. TODO: support encoding.\n// The \"-Internal\" variant here has code points as JS strings. The external version used by other files has code points\n// as JS numbers, like the rest of the codebase.\n\n\nfunction utf8PercentEncodeCodePointInternal(codePoint, percentEncodePredicate) {\n  const bytes = utf8Encode(codePoint);\n  let output = \"\";\n\n  for (const byte of bytes) {\n    // Our percentEncodePredicate operates on bytes, not code points, so this is slightly different from the spec.\n    if (!percentEncodePredicate(byte)) {\n      output += String.fromCharCode(byte);\n    } else {\n      output += percentEncode(byte);\n    }\n  }\n\n  return output;\n}\n\nfunction utf8PercentEncodeCodePoint(codePoint, percentEncodePredicate) {\n  return utf8PercentEncodeCodePointInternal(String.fromCodePoint(codePoint), percentEncodePredicate);\n} // https://url.spec.whatwg.org/#string-percent-encode-after-encoding\n// https://url.spec.whatwg.org/#string-utf-8-percent-encode\n\n\nfunction utf8PercentEncodeString(input, percentEncodePredicate, spaceAsPlus = false) {\n  let output = \"\";\n\n  for (const codePoint of input) {\n    if (spaceAsPlus && codePoint === \" \") {\n      output += \"+\";\n    } else {\n      output += utf8PercentEncodeCodePointInternal(codePoint, percentEncodePredicate);\n    }\n  }\n\n  return output;\n}\n\nmodule.exports = {\n  isC0ControlPercentEncode,\n  isFragmentPercentEncode,\n  isQueryPercentEncode,\n  isSpecialQueryPercentEncode,\n  isPathPercentEncode,\n  isUserinfoPercentEncode,\n  isURLEncodedPercentEncode,\n  percentDecodeString,\n  percentDecodeBytes,\n  utf8PercentEncodeString,\n  utf8PercentEncodeCodePoint\n};","map":{"version":3,"sources":["C:/Users/mindf/AppData/Roaming/npm/node_modules/mongodb/node_modules/whatwg-url/dist/percent-encoding.js"],"names":["isASCIIHex","require","utf8Encode","percentEncode","c","hex","toString","toUpperCase","length","percentDecodeBytes","input","output","Uint8Array","byteLength","outputIndex","i","byte","bytePoint","parseInt","String","fromCodePoint","slice","percentDecodeString","bytes","isC0ControlPercentEncode","extraFragmentPercentEncodeSet","Set","isFragmentPercentEncode","has","extraQueryPercentEncodeSet","isQueryPercentEncode","isSpecialQueryPercentEncode","extraPathPercentEncodeSet","isPathPercentEncode","extraUserinfoPercentEncodeSet","isUserinfoPercentEncode","extraComponentPercentEncodeSet","isComponentPercentEncode","extraURLEncodedPercentEncodeSet","isURLEncodedPercentEncode","utf8PercentEncodeCodePointInternal","codePoint","percentEncodePredicate","fromCharCode","utf8PercentEncodeCodePoint","utf8PercentEncodeString","spaceAsPlus","module","exports"],"mappings":"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","sourcesContent":["\"use strict\";\nconst { isASCIIHex } = require(\"./infra\");\nconst { utf8Encode } = require(\"./encoding\");\n\n// https://url.spec.whatwg.org/#percent-encode\nfunction percentEncode(c) {\n  let hex = c.toString(16).toUpperCase();\n  if (hex.length === 1) {\n    hex = `0${hex}`;\n  }\n\n  return `%${hex}`;\n}\n\n// https://url.spec.whatwg.org/#percent-decode\nfunction percentDecodeBytes(input) {\n  const output = new Uint8Array(input.byteLength);\n  let outputIndex = 0;\n  for (let i = 0; i < input.byteLength; ++i) {\n    const byte = input[i];\n    if (byte !== 0x25) {\n      output[outputIndex++] = byte;\n    } else if (byte === 0x25 && (!isASCIIHex(input[i + 1]) || !isASCIIHex(input[i + 2]))) {\n      output[outputIndex++] = byte;\n    } else {\n      const bytePoint = parseInt(String.fromCodePoint(input[i + 1], input[i + 2]), 16);\n      output[outputIndex++] = bytePoint;\n      i += 2;\n    }\n  }\n\n  return output.slice(0, outputIndex);\n}\n\n// https://url.spec.whatwg.org/#string-percent-decode\nfunction percentDecodeString(input) {\n  const bytes = utf8Encode(input);\n  return percentDecodeBytes(bytes);\n}\n\n// https://url.spec.whatwg.org/#c0-control-percent-encode-set\nfunction isC0ControlPercentEncode(c) {\n  return c <= 0x1F || c > 0x7E;\n}\n\n// https://url.spec.whatwg.org/#fragment-percent-encode-set\nconst extraFragmentPercentEncodeSet = new Set([32, 34, 60, 62, 96]);\nfunction isFragmentPercentEncode(c) {\n  return isC0ControlPercentEncode(c) || extraFragmentPercentEncodeSet.has(c);\n}\n\n// https://url.spec.whatwg.org/#query-percent-encode-set\nconst extraQueryPercentEncodeSet = new Set([32, 34, 35, 60, 62]);\nfunction isQueryPercentEncode(c) {\n  return isC0ControlPercentEncode(c) || extraQueryPercentEncodeSet.has(c);\n}\n\n// https://url.spec.whatwg.org/#special-query-percent-encode-set\nfunction isSpecialQueryPercentEncode(c) {\n  return isQueryPercentEncode(c) || c === 39;\n}\n\n// https://url.spec.whatwg.org/#path-percent-encode-set\nconst extraPathPercentEncodeSet = new Set([63, 96, 123, 125]);\nfunction isPathPercentEncode(c) {\n  return isQueryPercentEncode(c) || extraPathPercentEncodeSet.has(c);\n}\n\n// https://url.spec.whatwg.org/#userinfo-percent-encode-set\nconst extraUserinfoPercentEncodeSet =\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\nfunction isUserinfoPercentEncode(c) {\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\n}\n\n// https://url.spec.whatwg.org/#component-percent-encode-set\nconst extraComponentPercentEncodeSet = new Set([36, 37, 38, 43, 44]);\nfunction isComponentPercentEncode(c) {\n  return isUserinfoPercentEncode(c) || extraComponentPercentEncodeSet.has(c);\n}\n\n// https://url.spec.whatwg.org/#application-x-www-form-urlencoded-percent-encode-set\nconst extraURLEncodedPercentEncodeSet = new Set([33, 39, 40, 41, 126]);\nfunction isURLEncodedPercentEncode(c) {\n  return isComponentPercentEncode(c) || extraURLEncodedPercentEncodeSet.has(c);\n}\n\n// https://url.spec.whatwg.org/#code-point-percent-encode-after-encoding\n// https://url.spec.whatwg.org/#utf-8-percent-encode\n// Assuming encoding is always utf-8 allows us to trim one of the logic branches. TODO: support encoding.\n// The \"-Internal\" variant here has code points as JS strings. The external version used by other files has code points\n// as JS numbers, like the rest of the codebase.\nfunction utf8PercentEncodeCodePointInternal(codePoint, percentEncodePredicate) {\n  const bytes = utf8Encode(codePoint);\n  let output = \"\";\n  for (const byte of bytes) {\n    // Our percentEncodePredicate operates on bytes, not code points, so this is slightly different from the spec.\n    if (!percentEncodePredicate(byte)) {\n      output += String.fromCharCode(byte);\n    } else {\n      output += percentEncode(byte);\n    }\n  }\n\n  return output;\n}\n\nfunction utf8PercentEncodeCodePoint(codePoint, percentEncodePredicate) {\n  return utf8PercentEncodeCodePointInternal(String.fromCodePoint(codePoint), percentEncodePredicate);\n}\n\n// https://url.spec.whatwg.org/#string-percent-encode-after-encoding\n// https://url.spec.whatwg.org/#string-utf-8-percent-encode\nfunction utf8PercentEncodeString(input, percentEncodePredicate, spaceAsPlus = false) {\n  let output = \"\";\n  for (const codePoint of input) {\n    if (spaceAsPlus && codePoint === \" \") {\n      output += \"+\";\n    } else {\n      output += utf8PercentEncodeCodePointInternal(codePoint, percentEncodePredicate);\n    }\n  }\n  return output;\n}\n\nmodule.exports = {\n  isC0ControlPercentEncode,\n  isFragmentPercentEncode,\n  isQueryPercentEncode,\n  isSpecialQueryPercentEncode,\n  isPathPercentEncode,\n  isUserinfoPercentEncode,\n  isURLEncodedPercentEncode,\n  percentDecodeString,\n  percentDecodeBytes,\n  utf8PercentEncodeString,\n  utf8PercentEncodeCodePoint\n};\n"]},"metadata":{},"sourceType":"script"}