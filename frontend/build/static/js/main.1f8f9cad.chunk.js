(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{101:function(e,t,s){},115:function(e,t,s){},241:function(e,t,s){"use strict";s.r(t);var n=s(2),c=s(87),r=s.n(c),a=(s(57),s(3)),i=s(22),l=s(55),o=s(88),d=s(53),b=s(89),m=s(1),x=[{title:"DASHBOARD",path:"/pages/Dashboard",icon:Object(m.jsx)(d.b,{}),cName:"side-menu-text"},{title:"TASKS",path:"/pages/Tasks",icon:Object(m.jsx)(o.a,{}),cName:"side-menu-text"},{title:"CALENDAR",path:"/pages/Calendar",icon:Object(m.jsx)(d.a,{}),cName:"side-menu-text"},{title:"LOG OUT",path:"/pages/Logout",icon:Object(m.jsx)(b.a,{}),cName:"side-menu-text"}],j=(s(101),s(0)),u=s.p+"static/media/CrystaLogo.3734c1e1.svg";var h=function(){var e=Object(n.useState)(!1),t=Object(a.a)(e,2),s=t[0],c=t[1],r=function(){return c(!s)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.b.Provider,{value:{color:"#fff"},children:Object(m.jsx)(i.b,{to:"#",className:"open-menu-arrow",class:"flex m-3 text-2xl flex hover:bg-green-200 rounded-md z-40 fixed",children:Object(m.jsx)(l.b,{onClick:r})})}),Object(m.jsx)("nav",{className:s?"side-menu active":"side-menu",children:Object(m.jsxs)("ul",{className:"side-menu-items",onClick:r,children:[Object(m.jsx)("li",{className:"side-menu-toggle",children:Object(m.jsx)(i.b,{to:"#",className:"open-menu-arrow",class:"text-2xl -pl3 hover:bg-green-200 rounded-md",children:Object(m.jsx)(l.a,{})})}),Object(m.jsx)("div",{className:"crysta-logo",class:"ml-10 -mt-14 mb-5",children:Object(m.jsx)("img",{src:u,alt:"CrystaLogo",class:"content-between"})}),x.map((function(e,t){return Object(m.jsx)("li",{className:e.cName,class:"flex flex-col text-xl pl-3 pt-9 font-semibold hover:bg-green-200 rounded-lg -pt-5 pb-6 pl-20 pr-16",children:Object(m.jsxs)(i.b,{to:e.path,children:[Object(m.jsx)("div",{class:"-ml-9 -mb-6",children:e.icon}),Object(m.jsx)("span",{children:e.title})]})},t)}))]})})]})},f=s(4),g=s(5),O=function(){var e=Object(g.b)().loginWithRedirect;return Object(m.jsx)("button",{className:"btn btn-primary btn-block",class:"font-medium text-gray-50 h-12 w-40 bg-blue-400 rounded-3xl hover:bg-green-400 transition duration-250 ease-linear",onClick:function(){return e()},children:"Log In | Sign Up"})},v=function(){return Object(m.jsx)("div",{className:"NavContainer",class:"flex flex-col justify-center items-center bg-gradient-to-r from-blue-400 via-green-300 to-green-200 h-screen w-screen",children:Object(m.jsxs)("div",{class:"flex flex-col justify-center items-center bg-gray-50 h-1/3 w-1/3 rounded-3xl shadow-lg ",children:[Object(m.jsx)("div",{className:"crysta-logo",children:Object(m.jsx)("img",{src:u,alt:"CrystaLogo"})}),Object(m.jsxs)("p",{class:"font-normal text-center mb-7 mt-7 mr-5 ml-5 text-xl",children:["Glad to see you! Make sure you've downloaded the latest version of our ",Object(m.jsx)("a",{href:"https://tinyurl.com/Crysta-MVP",target:"_blank",class:"font-semibold underline text-blue-400 hover:text-green-400 transition duration-250 ease-linear",children:"energy tracker"})," first."]}),Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsx)(O,{})})]})})};var p=Object(g.c)((function(){return Object(m.jsxs)("div",{className:"Calendar",class:"flex items-center justify-center bg-gradient-to-r from-blue-400 via-green-300 to-green-200 h-screen ",children:[Object(m.jsx)("h1",{class:"fixed text-black font-bold text-8xl",children:"\ud83d\udcc5Calendar."}),Object(m.jsx)("h1",{class:"mt-40 text-white font-semibold text-2xl",children:"Coming soon in a later release. In the meanwhile, check out our weekly newsletter for updates!"})]})}),{onRedirecting:function(){return Object(m.jsx)("div",{children:" Hey there! We're just redirecting you \ud83d\ude01"})}});var y=Object(g.c)((function(){return Object(m.jsxs)("div",{className:"Tasks",class:"flex items-center justify-center bg-gradient-to-r from-blue-400 via-green-300 to-green-200 h-screen",children:[Object(m.jsx)("h1",{class:"fixed text-black font-bold text-8xl",children:"\u2714\ufe0fTasks."}),Object(m.jsx)("h1",{class:"mt-40 text-white font-semibold text-2xl",children:"Coming soon in a later release. In the meanwhile, check out our weekly newsletter for updates!"})]})}),{onRedirecting:function(){return Object(m.jsx)("div",{children:" Hey there! We're just redirecting you \ud83d\ude01"})}}),N=(s(115),s(56)),w=s.n(N),k=s(92),S=s(95),C=s(16),T=s.n(C);function E(e){var t=Object(n.useState)(),s=Object(a.a)(t,2),c=s[0],r=s[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(k.a)(w.a.mark((function t(){var s,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=[],n=[],t.next=4,T.a.get("/api/getData?username="+e.sendemail).then((function(t){console.log(e.sendemail);var c=t.data;Object.values(c)[1].forEach((function(e){s.push(e.hour),n.push(e.divided_energy_score)}))}));case 4:r({labels:s,datasets:[{label:"ENERGY SCORE",data:n,borderWidth:8,borderColor:"rgba(20, 177, 183, 0.4)",pointBackgroundColor:"rgb(77, 77, 77, 1)",tension:.4,pointRadius:8}]});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(m.jsx)("div",{className:"energy-graph-container",children:Object(m.jsx)(S.a,{data:c,width:770,height:690,options:{maintainAspectRatio:!0,responsive:!0}})})}s(240);var R=s(26),I=s.p+"static/media/Pomodoro_Chime.496ed2cd.mp3",D=s.p+"static/media/CrystaLogo.3734c1e1.svg";function A(e){var t=e.timebreak,s=e.timeChange;return Object(m.jsxs)("div",{className:"break-container",class:"flex items-center",children:[Object(m.jsx)("div",{className:"plus-icon",class:"text-md mr-2 mt-1.5",children:Object(m.jsx)(j.b.Provider,{value:{color:"#ffffff"},children:Object(m.jsx)(R.c,{class:"hover:bg-green-200 rounded-md z-40",onClick:function(){return s(-300,"break")}})})}),Object(m.jsxs)("div",{className:"break-time",class:"flex text-blue-100 font-semibold text-lg mt-1",children:["Break: ",Object(m.jsx)("p",{className:"font-semibold text-white number-sessions ml-1 mr-1",children:t})," MIN"]}),Object(m.jsx)("div",{className:"plus-icon",class:"text-md ml-2 mt-1.5",children:Object(m.jsx)(j.b.Provider,{value:{color:"#ffffff"},children:Object(m.jsx)(R.d,{class:"hover:bg-green-200 rounded-md z-40",onClick:function(){return s(300,"break")}})})})]})}var L=function(){g.b.user,g.b.isAuthenticated;var e,t=Object(n.useState)(1500),s=Object(a.a)(t,2),c=s[0],r=s[1],i=Object(n.useState)(300),l=Object(a.a)(i,2),o=l[0],d=l[1],b=Object(n.useState)(!1),x=Object(a.a)(b,2),u=x[0],h=x[1],f=Object(n.useState)(!1),O=Object(a.a)(f,2),v=O[0],p=O[1],y=Object(n.useState)(new Audio(I)),N=Object(a.a)(y,2),w=N[0],k=(N[1],Object(n.useState)(0)),S=Object(a.a)(k,2),C=S[0],T=S[1],E=function(){w.currentTime=0,w.volume=1,w.play()},L=function(e,t){if("break"===t){if(o<=300&&e<0)return;d((function(t){return t+e}))}else if("focus"===t){if(c<=300&&e<0)return;r((function(t){return t+e})),u||r(c+e)}};return Object(m.jsxs)("div",{className:"pomodoro-timer",class:"flex flex-auto flex-col text-center bg-gray-50 rounded-3xl h-1/2 w-full m-auto shadow-md mb-2.5 items-center",children:[Object(m.jsx)("div",{className:"pomodoro-heading",class:"flex bg-gradient-to-r from-blue-400 via-blue-400 to-green-300 h-8 w-11/12 rounded-3xl mt-2.5 justify-center text-center",children:Object(m.jsx)("p",{class:"text-white mt-1 font-semibold text-base",children:"POMODORO TIMER"})}),Object(m.jsx)("div",{className:"work-session-text",class:"text-sm font-light mt-2.5 mb-2.5",children:"Start a work session. Remember to allow notifications!"}),Object(m.jsxs)("div",{className:"timer-element",class:"flex items-center flex-col justify-center w-11/12 h-2/5 bg-gradient-to-r from-blue-400 via-blue-400 to-green-300 rounded-3xl",children:[Object(m.jsx)("p",{className:"session-or-break",class:"flex text-blue-100 font-semibold text-lg mt-0.5 -mb-2",children:v?"BREAK":"SESSION"}),Object(m.jsxs)("div",{className:"icons-display",class:"flex items-center",children:[Object(m.jsx)("div",{className:"plus-icon",class:"text-3xl mr-5 mt-2",children:Object(m.jsx)(j.b.Provider,{value:{color:"#ffffff"},children:Object(m.jsx)(R.a,{class:"hover:bg-green-200 rounded-md z-40",onClick:function(){return L(-300,"focus")}})})}),Object(m.jsx)("p",{className:"work-time",class:"font-bold text-white text-6xl",children:function(e){var t=Math.floor(e/60),s=e%60;return(t<10?"0"+t:t)+":"+(s<10?"0"+s:s)}(c)}),Object(m.jsx)("div",{className:"plus-icon",class:"text-3xl ml-5 mt-2",children:Object(m.jsx)(j.b.Provider,{value:{color:"#ffffff"},children:Object(m.jsx)(R.b,{class:"hover:bg-green-200 rounded-md z-40",onClick:function(){return L(300,"focus")}})})})]}),Object(m.jsx)(A,{timebreak:(e=o,Math.floor(e/60)),timeChange:L})]}),Object(m.jsxs)("div",{className:"button-container",class:"flex flex-row",children:[Object(m.jsx)("button",{className:"reset-button",class:"font-medium text-gray-50 h-10 w-32 bg-blue-400 rounded-3xl hover:bg-green-400 transition duration-250 ease-linear mt-5 mr-4",onClick:function(){r(1500),d(300),p(!1)},children:"RESET"}),Object(m.jsx)("button",{className:"stop-button",class:"font-medium text-gray-50 h-10 w-32 bg-green-400 rounded-3xl hover:bg-blue-400 transition duration-250 ease-linear mt-5",onClick:function(){console.log(Notification.permission),"granted"===Notification.permission?console.log("Notification permission granted. Starting session!"):"denied"!==Notification.permission?Notification.requestPermission().then((function(e){console.log(e),"denied"===e&&(alert("Hey there! Don't worry - we just need your notification permission to remind you when your work sessions and breaks are over. Thanks :D"),Notification.requestPermission())})):"denied"===Notification.permission&&(alert("Hey there! Don't worry - we just need your notification permission to remind you when your work sessions and breaks are over. Thanks :D"),Notification.requestPermission());(new Date).getTime();var e=(new Date).getTime()+1e3,t=v;if(!u){var s=setInterval((function(){(new Date).getTime()>e&&(r((function(e){return e<=0&&!t?(E(),new Notification("Time for a break! \ud83c\udf0a",{body:"Hey there! Your work session has ended. Feel free to sit back, get a glass of water, and enjoy!",icon:D}),T(C+1),t=!0,p(!0),o):e<=0&&t?(E(),new Notification("Ready to get back to work? \ud83d\udd25",{body:"Hey there! Your break has ended. Let's get back in the game!",icon:D}),t=!1,p(!1),c):e-1})),e+=1e3)}),30);localStorage.clear(),localStorage.setItem("interval-id",s)}u&&clearInterval(localStorage.getItem("interval-id")),h(!u)},children:u?Object(m.jsx)("p",{class:"flex font-medium text-gray-50 bg-red-400 rounded-3xl h-10 w-32 justify-center items-center hover:bg-yellow-400 transition duration-250 ease-linear",children:"STOP"}):Object(m.jsx)(m.Fragment,{children:"START"})})]}),Object(m.jsxs)("div",{className:"number-sessions-text",class:"flex text-sm mt-4",children:["You've completed ",Object(m.jsx)("p",{className:"font-semibold text-green-500 number-sessions ml-1 mr-1",children:C})," work sessions today."]})]})};var M=function(){return Object(m.jsxs)("div",{className:"task-widget-container",class:"flex flex-auto flex-col text-center bg-gray-50 rounded-3xl h-1/2 w-full m-auto shadow-md mt-3 items-center",children:[Object(m.jsx)("div",{className:"task-widget-heading",class:"flex bg-gradient-to-r from-blue-400 via-blue-400 to-green-300 h-8 w-11/12 rounded-3xl mt-2.5 justify-center text-center",children:Object(m.jsx)("p",{class:"text-white mt-1 font-semibold text-base",children:"TASK WIDGET"})}),Object(m.jsx)("div",{className:"coming-soon-text",class:"text-sm font-light mt-2.5 mb-2.5",children:"Coming soon..."})]})};var P=Object(g.c)((function(){var e,t,s,c,r,i,l=Object(g.b)(),o=l.user,d=l.isAuthenticated,b=Object(n.useState)(),x=Object(a.a)(b,2),j=x[0],u=x[1],h=Object(n.useState)(),f=Object(a.a)(h,2),O=f[0],v=f[1],p=Object(n.useState)(),y=Object(a.a)(p,2),N=y[0],w=y[1],k=Object(n.useState)(),S=Object(a.a)(k,2),C=S[0],R=S[1],I=Object(n.useState)(),D=Object(a.a)(I,2),A=D[0],P=D[1],H=Object(n.useState)(),_=Object(a.a)(H,2),G=_[0],z=_[1],W=Object(n.useState)(),B=Object(a.a)(W,2),F=(B[0],B[1],Object(n.useState)()),K=Object(a.a)(F,2),U=(K[0],K[1],function(e){return e.reduce((function(e,t){return e+t}),0)/e.length}),Y="";if(d){var V=o.email;Y=V,T.a.get("/api/getData?username="+V).then((function(e){var t=e.data,s=Object.values(t)[1],n=[],c=[],r=[],a=[],i=[],l=[];s.forEach((function(e){c.push(e.hour),n.push(e.task_switches),r.push(e.divided_energy_score),a.push(e.unscaled_energy_score),i.push(e.average_task_time),l.push(e.distracting_tasks)})),w(U(n).toFixed(0));var o=Math.min.apply(Math,r),d=r.indexOf(o),b=Math.max.apply(Math,r),m=r.indexOf(b);v(c[d]),u(c[m]),R(U(l).toFixed(0)),P(U(i).toFixed(0)),z(U(a).toFixed(0))})),e=Object(m.jsx)(E,{sendemail:Y})}else e=Object(m.jsx)("div",{class:"flex font-bold text-lg text-center justify-center items-center",children:"Loading..."});return t=void 0===j?Object(m.jsx)("div",{className:"most-productive-time",class:"text-sm w-11/12 mt-4 font-light",children:"This dashboard will be filled automatically every hour - and will get more accurate as you continue to use the Crysta energy tracker!"}):Object(m.jsx)("div",{className:"most-productive-time",class:"text-3xl mt-4 font-light",children:j}),s="NaN"===N?Object(m.jsx)("div",{class:"text-4xl font-light mb-3",children:"0"}):Object(m.jsx)("div",{class:"text-4xl font-light mb-3",children:N}),c="NaN"===C?Object(m.jsx)("div",{class:"text-4xl font-light mb-3",children:"0"}):Object(m.jsx)("div",{class:"text-4xl font-light mb-3",children:C}),r="NaN"===A?Object(m.jsx)("div",{class:"text-4xl font-light mb-3",children:"0"}):Object(m.jsx)("div",{class:"text-4xl font-light mb-3",children:A}),i="NaN"===G?Object(m.jsx)("div",{class:"text-4xl font-light mb-3",children:"0"}):Object(m.jsx)("div",{class:"text-4xl font-light mb-3",children:G}),Object(m.jsxs)("div",{className:"container-energy",class:"flex flex-col top-0 justify-items-center bg-gradient-to-r from-blue-400 via-green-300 to-green-200 h-screen w-screen",children:[Object(m.jsx)("div",{className:"intro-container",class:"flex w-11/12 m-auto mr-12",children:Object(m.jsx)("div",{className:"Introduction/Greeting",class:"text-3xl mt-2 font-semibold text-white",children:"Hey there! Let's get things done."})}),Object(m.jsxs)("div",{className:"insights-energy-container",class:"flex h-5/6 w-11/12 -mt-2 m-auto",children:[Object(m.jsxs)("div",{className:"insights-menu",class:"flex flex-col text-center bg-gray-50 shadow-md rounded-3xl h-full w-1/5 m-auto items-center",children:[Object(m.jsx)("div",{className:"energy-level-heading",class:"flex bg-gradient-to-r from-blue-400 via-blue-400 to-green-300 h-8 w-11/12 rounded-3xl mt-2.5 justify-center",children:Object(m.jsx)("p",{class:"text-white mt-1 font-semibold text-base",children:"INSIGHTS"})}),Object(m.jsx)("div",{className:"energy-level-heading",class:"flex bg-gray-200 h-8 w-11/12 rounded-3xl mt-8 justify-center ",children:Object(m.jsx)("p",{class:"text-blue-700 mt-1.5 font-semibold text-sm",children:"MOST PRODUCTIVE TIME"})}),t,Object(m.jsx)("div",{className:"energy-level-heading",class:"flex bg-gray-200 h-8 w-11/12 rounded-3xl mt-5 justify-center ",children:Object(m.jsx)("p",{class:"text-red-700 mt-1.5 font-semibold text-sm",children:"MOST CREATIVE TIME"})}),Object(m.jsx)("div",{className:"most-creative-time",class:"text-3xl mt-4 font-light",children:O}),Object(m.jsx)("div",{className:"energy-level-heading",class:"flex bg-gray-200 h-8 w-11/12 rounded-3xl mt-5 justify-center ",children:Object(m.jsx)("p",{class:"text-black mt-1.5 font-semibold text-sm",children:"OTHER"})}),Object(m.jsxs)("div",{className:"other-metrics",class:"grid grid-cols-2 w-11/12 mt-6 gap-y-4 bg-gray-200 rounded-2xl mb-2.5",children:[Object(m.jsxs)("div",{className:"task-switches",class:"flex flex-col justify-center ml-2 mt-2 bg-gray-100 rounded-2xl mr-2",children:[Object(m.jsx)("div",{class:"text-xs font-semibold mt-3",children:"TASK SWITCHES"}),s]}),Object(m.jsxs)("div",{className:"distracting-sites",class:"flex flex-col justify-center mr-2 mt-2 bg-gray-100 rounded-2xl ml-2",children:[Object(m.jsx)("div",{class:"text-xs font-semibold mt-3",children:"# DISTRACTING SITES"}),c]}),Object(m.jsxs)("div",{className:"time-per-task",class:"flex flex-col justify-center ml-2 mb-2 bg-gray-100 rounded-2xl mr-2",children:[Object(m.jsx)("div",{class:"text-xs font-semibold mt-3",children:"SECONDS PER TASK"}),r]}),Object(m.jsxs)("div",{className:"unscaled-score",class:"flex flex-col justify-center mr-2 mb-2 bg-gray-100 rounded-2xl ml-2",children:[Object(m.jsx)("div",{class:"text-xs font-semibold mt-3",children:"UNSCALED SCORE"}),i]})]}),Object(m.jsx)("div",{className:"energy-level-heading",class:"flex bg-gray-200 w-11/12 rounded-3xl mt-3 justify-center ",children:Object(m.jsx)("p",{class:"text-black mt-3 mb-3 ml-2 mr-2 text-xs",children:"These are the insights we found - the more you use Crysta, the more accurate they get!"})})]}),Object(m.jsxs)("div",{className:"energy-menu",class:"flex bg-gray-50 shadow-md rounded-3xl h-full w-6/12 m-auto",children:[Object(m.jsx)("div",{className:"energy-level-heading",class:"flex bg-gradient-to-r from-blue-400 via-blue-400 to-green-300 h-8 w-64 rounded-3xl mt-2.5 ml-7 justify-center fixed",children:Object(m.jsx)("p",{class:"text-white mt-1 font-semibold text-base",children:"YOUR ENERGY LEVELS"})}),Object(m.jsx)("div",{className:"energy-graph-container",class:"flex-1 flex-col ml-7 mt-12 mr-8 mb-0 w-5/6 h-5/6",children:e})]}),Object(m.jsxs)("div",{className:"pomodoro-tasks-container",class:"flex flex-col h-full w-3/12 m-auto ",children:[Object(m.jsx)(L,{}),Object(m.jsx)(M,{})]})]}),Object(m.jsx)("div",{className:"version",class:"text-right text-sm text-black font-semibold mr-5 mb-5",children:"MVP - v.0.2 | \xa9Crysta 2021"})]})}),{onRedirecting:function(){return Object(m.jsx)("div",{children:" Hey there! We're just redirecting you \ud83d\ude01"})}}),H=function(){var e=Object(g.b)().logout;return Object(m.jsx)("button",{className:"btn btn-danger btn-block",class:"font-medium text-gray-50 h-10 w-40 bg-blue-400 rounded-3xl hover:bg-green-400 transition duration-250 ease-linear",onClick:function(){return e({returnTo:window.location.origin})},children:"Log Out"})},_=function(){Object(g.b)().logout;return Object(m.jsx)("div",{className:"NavContainer",class:"flex flex-col justify-center items-center bg-gradient-to-r from-blue-400 via-green-300 to-green-200 h-screen w-screen",children:Object(m.jsxs)("div",{class:"flex flex-col justify-center items-center bg-gray-50  rounded-3xl h-1/3 w-1/3 rounded-3xl shadow-lg",children:[Object(m.jsx)("div",{className:"crysta-logo",class:"",children:Object(m.jsx)("img",{src:u,alt:"CrystaLogo"})}),Object(m.jsx)("p",{class:"font-medium text-center w-64 mb-4 mt-7 text-xl mr-5 ml-5",children:"We're sad to see you go. \ud83d\ude22 Come back soon!"}),Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsx)(H,{})})]})})};var G=function(){var e=Object(g.b)(),t=e.user;if(e.isAuthenticated){var s={username:t.name};T.a.post("http://127.0.0.1:5000/user",s).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}return Object(m.jsxs)(i.a,{children:[Object(m.jsx)(f.a,{path:"/",exact:!0,component:v}),Object(m.jsx)(f.a,{path:"/Login",component:v}),Object(m.jsx)(h,{}),Object(m.jsxs)(f.c,{children:[Object(m.jsx)(f.a,{path:"/pages/Dashboard",component:P}),Object(m.jsx)(f.a,{path:"/pages/Tasks",component:y}),Object(m.jsx)(f.a,{path:"/pages/Calendar",component:p}),Object(m.jsx)(f.a,{path:"/pages/Logout",component:_})]})]})};r.a.render(Object(m.jsx)(g.a,{domain:"crysta.us.auth0.com",clientId:"7wM95Dzz4zhafR6dCBB6PhZdyvKQgDMH",redirectUri:"https://crysta-staging.herokuapp.com/pages/Dashboard/continue?state=THE_ORIGINAL_STATE",children:Object(m.jsx)(G,{})}),document.getElementById("root"))},57:function(e,t,s){}},[[241,1,2]]]);
//# sourceMappingURL=main.1f8f9cad.chunk.js.map