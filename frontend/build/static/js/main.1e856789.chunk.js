(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{104:function(e,t,s){},118:function(e,t,s){},242:function(e,t,s){"use strict";s.r(t);var a=s(2),c=s(91),n=s.n(c),l=(s(61),s(15)),r=s(28),i=s(60),o=s(92),d=s(58),x=s(93),b=s(1),m=[{title:"CALENDAR",path:"/pages/Calendar",icon:Object(b.jsx)(d.a,{}),cName:"side-menu-text"},{title:"TASKS",path:"/pages/Tasks",icon:Object(b.jsx)(o.a,{}),cName:"side-menu-text"},{title:"ENERGY",path:"/pages/Energy",icon:Object(b.jsx)(d.b,{}),cName:"side-menu-text"},{title:"LOG OUT",path:"/pages/Logout",icon:Object(b.jsx)(x.a,{}),cName:"side-menu-text"}],j=(s(104),s(0)),h=s.p+"static/media/CrystaLogo.3734c1e1.svg";var u=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),s=t[0],c=t[1],n=function(){return c(!s)};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.b.Provider,{value:{color:"#fff"},children:Object(b.jsx)(r.b,{to:"#",className:"open-menu-arrow",class:"flex m-3 text-2xl flex hover:bg-green-200 rounded-md z-40 fixed",children:Object(b.jsx)(i.b,{onClick:n})})}),Object(b.jsx)("nav",{className:s?"side-menu active":"side-menu",children:Object(b.jsxs)("ul",{className:"side-menu-items",onClick:n,children:[Object(b.jsx)("li",{className:"side-menu-toggle",children:Object(b.jsx)(r.b,{to:"#",className:"open-menu-arrow",class:"text-2xl -pl3 hover:bg-green-200 rounded-md",children:Object(b.jsx)(i.a,{})})}),Object(b.jsx)("div",{className:"crysta-logo",class:"ml-10 -mt-14 mb-5",children:Object(b.jsx)("img",{src:h,alt:"CrystaLogo",class:"content-between"})}),m.map((function(e,t){return Object(b.jsx)("li",{className:e.cName,class:"flex flex-col text-xl pl-3 pt-9 font-semibold hover:bg-green-200 rounded-lg -pt-5 pb-6 pl-20 pr-16",children:Object(b.jsxs)(r.b,{to:e.path,children:[Object(b.jsx)("div",{class:"-ml-9 -mb-6",children:e.icon}),Object(b.jsx)("span",{children:e.title})]})},t)}))]})})]})},g=s(7),f=s(14),O=function(){var e=Object(f.b)().loginWithRedirect;return Object(b.jsx)("button",{className:"btn btn-primary btn-block",class:"font-medium text-gray-50 h-12 w-40 bg-green-400 rounded-3xl hover:bg-blue-400 transition duration-250 ease-linear",onClick:function(){return e()},children:"Log In | Sign Up"})},v=function(){return Object(b.jsx)("div",{className:"NavContainer",class:"flex flex-col justify-center items-center bg-gradient-to-r from-blue-400 via-green-300 to-green-200 h-screen w-screen",children:Object(b.jsxs)("div",{class:"flex flex-col justify-center items-center bg-gray-50 h-1/3 w-1/3 rounded-3xl shadow-lg ",children:[Object(b.jsx)("div",{className:"crysta-logo",class:"",children:Object(b.jsx)("img",{src:h,alt:"CrystaLogo"})}),Object(b.jsx)("p",{class:"font-normal text-center mb-7 mt-7 mr-5 ml-5 text-xl",children:"Glad to see you! Make sure you've downloaded our energy tracker first."}),Object(b.jsx)("div",{className:"flex justify-center",children:Object(b.jsx)(O,{})})]})})};var p=function(){return Object(b.jsxs)("div",{className:"Calendar",class:"flex items-center justify-center bg-gradient-to-r from-blue-400 via-green-300 to-green-200 h-screen ",children:[Object(b.jsx)("h1",{class:"fixed text-black font-bold text-8xl",children:"\ud83d\udcc5Calendar."}),Object(b.jsx)("h1",{class:"mt-40 text-white font-semibold text-2xl",children:"Coming soon in a later release. In the meanwhile, check out our weekly newsletter for updates!"})]})};var y=function(){return Object(b.jsxs)("div",{className:"Tasks",class:"flex items-center justify-center bg-gradient-to-r from-blue-400 via-green-300 to-green-200 h-screen",children:[Object(b.jsx)("h1",{class:"fixed text-black font-bold text-8xl",children:"\u2714\ufe0fTasks."}),Object(b.jsx)("h1",{class:"mt-40 text-white font-semibold text-2xl",children:"Coming soon in a later release. In the meanwhile, check out our weekly newsletter for updates!"})]})},N=(s(118),s(3)),w=s(4),k=s(6),S=s(5),C=s(98),I=s(27),E=s.n(I),T=function(e){Object(k.a)(s,e);var t=Object(S.a)(s);function s(e){var a;return Object(N.a)(this,s),(a=t.call(this,e)).getDataFromDb=function(){},a.state={mongo_data:[],task_switches:[],labels:[],graphData:e.graphData},a}return Object(w.a)(s,[{key:"componentWillMount",value:function(){if(this.getGraphData(),this.getDataFromDb(),!this.state.IntervalIsSet){var e=setInterval(this.getDataFromDb,1e4);this.setState({IntervalIsSet:e})}}},{key:"componentWillUnmount",value:function(){this.state.IntervalIsSet&&(clearInterval(this.state.IntervalIsSet),this.setState({IntervalIsSet:null}))}},{key:"getGraphData",value:function(){var e=this;E.a.get("/api/getData?username="+this.props.sent_useremail).then((function(t){var s=t.data,a=Object.values(s)[1],c=[],n=[];e.setState({mongo_data:a}),a.forEach((function(e){n.push(e.hour),c.push(e.divided_energy_score)})),console.log(c),console.log(n),console.log("Received task_switches!"),console.log(a),e.setState({graphData:{labels:n,datasets:[{label:"ENERGY SCORE",data:c,borderWidth:8,borderColor:"rgba(20, 177, 183, 0.4)",pointBackgroundColor:"rgb(77, 77, 77, 1)",tension:.4,pointRadius:8,legend:{position:"bottom"}}]}})}))}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"energy-graph",children:Object(b.jsx)(C.a,{data:this.state.graphData,width:1580,height:1010,options:{maintainAspectRatio:!0,responsive:!0}})})}}]),s}(a.Component);T.defaultProps={legendPosition:"bottom"};var D=T;var R=function(){var e,t,s,c,n,r=Object(f.b)(),i=r.user,o=r.isAuthenticated,d=Object(a.useState)(),x=Object(l.a)(d,2),m=x[0],j=x[1],h=Object(a.useState)(),u=Object(l.a)(h,2),g=u[0],O=u[1],v=Object(a.useState)(),p=Object(l.a)(v,2),y=p[0],N=p[1],w=Object(a.useState)(),k=Object(l.a)(w,2),S=k[0],C=k[1],I=Object(a.useState)(),T=Object(l.a)(I,2),R=T[0],_=T[1],L=Object(a.useState)(),A=Object(l.a)(L,2),M=A[0],G=A[1],F=function(e){return e.reduce((function(e,t){return e+t}),0)/e.length},P="";if(o){var U=i.email;P=U,E.a.get("/api/getData?username="+U).then((function(e){var t=e.data,s=Object.values(t)[1],a=[],c=[],n=[],l=[],r=[],i=[];s.forEach((function(e){c.push(e.hour),a.push(e.task_switches),n.push(e.divided_energy_score),l.push(e.unscaled_energy_score),r.push(e.average_task_time),i.push(e.distracting_tasks)})),N(F(a).toFixed(0));var o=Math.min.apply(Math,n),d=n.indexOf(o),x=Math.max.apply(Math,n),b=n.indexOf(x);O(c[d]),j(c[b]),C(F(i).toFixed(0)),_(F(r).toFixed(0)),G(F(l).toFixed(0))})),console.log(P)}return e=void 0===m?Object(b.jsx)("div",{className:"most-productive-time",class:"text-sm w-11/12 mt-4 font-light",children:"This dashboard will be filled automatically every hour - and will get more accurate as you continue to use the Crysta energy tracker!"}):Object(b.jsx)("div",{className:"most-productive-time",class:"text-3xl mt-4 font-light",children:m}),t="NaN"===y?Object(b.jsx)("div",{class:"text-4xl font-light mb-3",children:"0"}):Object(b.jsx)("div",{class:"text-4xl font-light mb-3",children:y}),s="NaN"===S?Object(b.jsx)("div",{class:"text-4xl font-light mb-3",children:"0"}):Object(b.jsx)("div",{class:"text-4xl font-light mb-3",children:S}),c="NaN"===R?Object(b.jsx)("div",{class:"text-4xl font-light mb-3",children:"0"}):Object(b.jsx)("div",{class:"text-4xl font-light mb-3",children:R}),n="NaN"===M?Object(b.jsx)("div",{class:"text-4xl font-light mb-3",children:"0"}):Object(b.jsx)("div",{class:"text-4xl font-light mb-3",children:M}),Object(b.jsxs)("div",{className:"container-energy",class:"flex flex-col top-0 justify-items-center bg-gradient-to-r from-blue-400 via-green-300 to-green-200 h-screen w-screen",children:[Object(b.jsx)("div",{className:"copyright",class:"text-right mt-3 mr-5 text-sm font-semibold text-black",children:"Copyright Crysta 2021"}),Object(b.jsxs)("div",{className:"insights-energy-container",class:"flex h-5/6 w-5/6 m-auto",children:[Object(b.jsxs)("div",{className:"insights-menu",class:"flex flex-col text-center bg-gray-50 shadow-md rounded-3xl h-full w-3/12 mr-8 m-auto items-center",children:[Object(b.jsx)("div",{className:"energy-level-heading",class:"flex bg-gradient-to-r from-blue-400 via-blue-400 to-green-300 h-8 w-11/12 rounded-3xl mt-2.5 justify-center",children:Object(b.jsx)("p",{class:"text-white mt-1 font-semibold text-base",children:"INSIGHTS"})}),Object(b.jsx)("div",{className:"energy-level-heading",class:"flex bg-gray-200 h-8 w-11/12 rounded-3xl mt-8 justify-center ",children:Object(b.jsx)("p",{class:"text-blue-700 mt-1.5 font-semibold text-sm",children:"MOST PRODUCTIVE TIME"})}),e,Object(b.jsx)("div",{className:"energy-level-heading",class:"flex bg-gray-200 h-8 w-11/12 rounded-3xl mt-5 justify-center ",children:Object(b.jsx)("p",{class:"text-red-700 mt-1.5 font-semibold text-sm",children:"MOST CREATIVE TIME"})}),Object(b.jsx)("div",{className:"most-creative-time",class:"text-3xl mt-4 font-light",children:g}),Object(b.jsx)("div",{className:"energy-level-heading",class:"flex bg-gray-200 h-8 w-11/12 rounded-3xl mt-5 justify-center ",children:Object(b.jsx)("p",{class:"text-black mt-1.5 font-semibold text-sm",children:"OTHER INSIGHTS"})}),Object(b.jsxs)("div",{className:"other-metrics",class:"grid grid-cols-2 w-11/12 mt-6 gap-y-4 bg-gray-200 rounded-2xl mb-2.5",children:[Object(b.jsxs)("div",{className:"task-switches",class:"flex flex-col justify-center ml-2 mt-2 bg-gray-100 rounded-2xl mr-2",children:[Object(b.jsx)("div",{class:"text-xs font-semibold mt-3",children:"TASK SWITCHES"}),t]}),Object(b.jsxs)("div",{className:"distracting-sites",class:"flex flex-col justify-center mr-2 mt-2 bg-gray-100 rounded-2xl ml-2",children:[Object(b.jsx)("div",{class:"text-xs font-semibold mt-3",children:"# DISTRACTING SITES"}),s]}),Object(b.jsxs)("div",{className:"time-per-task",class:"flex flex-col justify-center ml-2 mb-2 bg-gray-100 rounded-2xl mr-2",children:[Object(b.jsx)("div",{class:"text-xs font-semibold mt-3",children:"SECONDS PER TASK"}),c]}),Object(b.jsxs)("div",{className:"unscaled-score",class:"flex flex-col justify-center mr-2 mb-2 bg-gray-100 rounded-2xl ml-2",children:[Object(b.jsx)("div",{class:"text-xs font-semibold mt-3",children:"UNSCALED SCORE"}),n]})]}),Object(b.jsx)("div",{className:"energy-level-heading",class:"flex bg-gray-200 w-11/12 rounded-3xl mt-3 justify-center ",children:Object(b.jsx)("p",{class:"text-black mt-3 mb-3 ml-2 mr-2 text-xs",children:"These are the insights we found - the more you use Crysta, the more accurate they get!"})})]}),Object(b.jsxs)("div",{className:"energy-menu",class:"flex bg-gray-50 shadow-md rounded-3xl h-full w-9/12 m-auto",children:[Object(b.jsx)("div",{className:"energy-level-heading",class:"flex bg-gradient-to-r from-blue-400 via-blue-400 to-green-300 h-8 w-64 rounded-3xl mt-2.5 ml-7 justify-center fixed",children:Object(b.jsx)("p",{class:"text-white mt-1 font-semibold text-base",children:"YOUR ENERGY LEVELS"})}),Object(b.jsx)("div",{className:"energy-graph-container",class:"flex-1 flex-col ml-7 mt-12 mr-8 mb-0 w-5/6 h-5/6",children:Object(b.jsx)(D,{sent_useremail:P})})]})]}),Object(b.jsx)("div",{className:"version",class:"text-right text-md text-black font-semibold mr-5 mb-5",children:"MVP - v.0.1"})]})},_=function(){var e=Object(f.b)().logout;return Object(b.jsx)("button",{className:"btn btn-danger btn-block",class:"font-medium text-gray-50 h-10 w-40 bg-green-400 rounded-3xl hover:bg-blue-400 transition duration-250 ease-linear",onClick:function(){return e({returnTo:window.location.origin})},children:"Log Out"})},L=function(){Object(f.b)().logout;return Object(b.jsx)("div",{className:"NavContainer",class:"flex flex-col justify-center items-center bg-gradient-to-r from-blue-400 via-green-300 to-green-200 h-screen w-screen",children:Object(b.jsxs)("div",{class:"flex flex-col justify-center items-center bg-gray-50  rounded-3xl h-1/3 w-1/3 rounded-3xl shadow-lg",children:[Object(b.jsx)("div",{className:"crysta-logo",class:"",children:Object(b.jsx)("img",{src:h,alt:"CrystaLogo"})}),Object(b.jsx)("p",{class:"font-medium text-center w-64 mb-4 mt-7 text-xl mr-5 ml-5",children:"We're sad to see you go. \ud83d\ude22 Come back soon!"}),Object(b.jsx)("div",{className:"flex justify-center",children:Object(b.jsx)(_,{})})]})})};var A=function(){var e=Object(f.b)(),t=e.user;if(e.isAuthenticated){var s={username:t.name};E.a.post("http://127.0.0.1:5000/user",s).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}return Object(b.jsxs)(r.a,{children:[Object(b.jsx)(g.a,{path:"/",exact:!0,component:v}),Object(b.jsx)(g.a,{path:"/Login",component:v}),Object(b.jsx)(u,{}),Object(b.jsxs)(g.c,{children:[Object(b.jsx)(g.a,{path:"/pages/Calendar",component:p}),Object(b.jsx)(g.a,{path:"/pages/Tasks",component:y}),Object(b.jsx)(g.a,{path:"/pages/Energy",component:R}),Object(b.jsx)(g.a,{path:"/pages/Logout",component:L})]})]})};n.a.render(Object(b.jsx)(f.a,{domain:"crysta.us.auth0.com",clientId:"7wM95Dzz4zhafR6dCBB6PhZdyvKQgDMH",redirectUri:"https://crysta-app.herokuapp.com/pages/Energy/continue?state=THE_ORIGINAL_STATE",children:Object(b.jsx)(A,{})}),document.getElementById("root"))},61:function(e,t,s){}},[[242,1,2]]]);
//# sourceMappingURL=main.1e856789.chunk.js.map